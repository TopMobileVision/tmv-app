for(var __spreadArrays=this&&this.__spreadArrays||function(){for(var n=0,t=0,a=arguments.length;t<a;t++)n+=arguments[t].length;for(var e=Array(n),r=0,t=0;t<a;t++)for(var o=arguments[t],i=0,d=o.length;i<d;i++,r++)e[r]=o[i];return e},rand=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},generate_route=function(n,t,a){var e=(a/t*100).toFixed(0),r=["🏪","🏠"][Math.floor(2*Math.random())];return"<tr onclick=\"document.location = 'route.html?route_id="+n+"';\" "+("100"==e?'class="complete"':"")+'><td><mygrid>\n    <div  id="A">Mar '+day+'</div>\n    <span id="B">'+e+'%</span>\n    <div  id="C">'+r+" Truck "+rand(1e3,9999)+'</div>\n    <span id="D">missed '+(t-a)+"</span>\n    </mygrid></td></tr>"},days=__spreadArrays(Array(10)).map(function(n){return 32*Math.random()|1}).sort(function(n,t){return n-t}).reverse(),_i=0,days_1=days;_i<days_1.length;_i++){var day=days_1[_i],id=rand(1e3,9999),num1=rand(0,500),num2=rand(num1/2,num1);$("tbody").append(generate_route(""+id,num1,num2,day))}mapkit.init({authorizationCallback:function(n){n("eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjgzQ1dGWjhQNjIifQ.eyJpc3MiOiI1VkdLUDJRVjZIIiwiaWF0IjoxNjE2OTA0NzYzLCJleHAiOjE2MTk1ODMxNjN9.nME9bxXIl3eE1-43BVKu7XmZAyRGfAZGhOOhiIL-mnuyJu2gLq_9vxQQ-Jjly-KUtWAArs0DnHTa9Z4-_F2gYQ")}});var map=new mapkit.Map("map",{colorScheme:"dark"}),CALLOUT_OFFSET=new DOMPoint(-148,-78),landmarkAnnotationCallout={calloutElementForAnnotation:function(n){return calloutForLandmarkAnnotation(n)},calloutAnchorOffsetForAnnotation:function(n,t){return CALLOUT_OFFSET},calloutAppearanceAnimationForAnnotation:function(n){return".4s cubic-bezier(0.4, 0, 0, 1.5) 0s 1 normal scale-and-fadein"}};function calloutForLandmarkAnnotation(n){var t=document.createElement("div");t.className="landmark",t.appendChild(document.createElement("h1")).textContent=n.landmark.title;var a=t.appendChild(document.createElement("section")),e=a.appendChild(document.createElement("p"));e.className="phone",e.textContent=n.landmark.phone;var r=a.appendChild(document.createElement("p"));r.className="homepage";var o=r.appendChild(document.createElement("a"));return o.href=n.landmark.url,o.textContent="more info",t}$.getJSON("http://35.227.154.149:8000/trucks/online_only/",function(n){for(var t,a,e,r,o=Object.keys(n)[Math.floor(Math.random()*Object.keys(n).length)],i=n[o],d=new mapkit.Style({lineWidth:2,lineJoin:"round",strokeColor:"#FFF"}),l=i.shift(),m=(i[i.length-2],i[i.length-1],i.length),u=__spreadArrays(Array(50)).map(function(n){return Math.random()*m|0}),c=[],s=[],p=0;p<m-1;p+=2){var h=i[p],f=i[p+1];u.includes(p)&&c.push((t=h,a=f,r=void 0,e={coordinate:new mapkit.Coordinate(t,a),title:o,phone:"Bin was lifted at "+l,url:"/lift.html?lift_id="},(r=new mapkit.MarkerAnnotation(e.coordinate,{callout:landmarkAnnotationCallout,color:["#03DAC6","#19B5FE","#BDC3C7"][Math.floor(3*Math.random())]})).landmark=e,r.glyphText="🗑️",r)),s.push(new mapkit.Coordinate(h,f))}var y=new mapkit.PolylineOverlay(s,{style:d});map.showItems(c),map.addOverlays([y]),map.showItems([y])});