function add_bin(n,t,a,e){switch(a){case"RC":var o="recycle";break;case"GR":o="green";break;default:o="trash"}$("tbody").append("<tr onclick=\"document.location = 'days.html?route_id=';\" "+a+'><td><row class="city">\n        <div  id="A">'+(e?"üè™":"üè†")+" "+n+'</div>\n        <span id="B">'+o+"</span>\n        </row></td></tr>")}mapkit.init({authorizationCallback:function(n){n("eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjgzQ1dGWjhQNjIifQ.eyJpc3MiOiI1VkdLUDJRVjZIIiwiaWF0IjoxNjE2OTA0NzYzLCJleHAiOjE2MTk1ODMxNjN9.nME9bxXIl3eE1-43BVKu7XmZAyRGfAZGhOOhiIL-mnuyJu2gLq_9vxQQ-Jjly-KUtWAArs0DnHTa9Z4-_F2gYQ")}});var map=new mapkit.Map("map",{colorScheme:"dark"}),CALLOUT_OFFSET=new DOMPoint(-148,-78),landmarkAnnotationCallout={calloutElementForAnnotation:function(n){return calloutForLandmarkAnnotation(n)},calloutAnchorOffsetForAnnotation:function(n,t){return CALLOUT_OFFSET},calloutAppearanceAnimationForAnnotation:function(n){return".4s cubic-bezier(0.4, 0, 0, 1.5) 0s 1 normal scale-and-fadein"}};function calloutForLandmarkAnnotation(n){var t=document.createElement("div");t.className="landmark",t.appendChild(document.createElement("h1")).textContent=n.landmark.title;var a=t.appendChild(document.createElement("section")),e=a.appendChild(document.createElement("p"));e.className="phone",e.textContent=n.landmark.phone;var o=a.appendChild(document.createElement("p"));o.className="homepage";var i=o.appendChild(document.createElement("a"));return i.href=n.landmark.url,i.textContent="more info",t}var annotation=function(n,t,a,e,o,i){add_bin(e,n,t,"C"==a);var r="RC"==t?"#19B5FE":"GR"==t?"#03DAC6":"#BDC3C7",l=new mapkit.Coordinate(o,i),c=new mapkit.MarkerAnnotation(l,{callout:landmarkAnnotationCallout,color:r});return c.landmark={coordinate:l,title:e,phone:n,url:"/lift.html?lift_id="},c.glyphText="üóëÔ∏è",c},company_id=parseInt(new URLSearchParams(window.location.search).get("company_id")||"244722");$.getJSON("http://35.227.154.149:8000/"+company_id+"/bins/",function(n){var t=Object.values(n.bins);console.log(t);var a=t.map(function(n){return annotation(n[0],n[1],n[2],n[3].split(",")[0],n[4],n[5])});map.showItems(a)});