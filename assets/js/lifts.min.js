var __spreadArrays=this&&this.__spreadArrays||function(){for(var a=0,t=0,n=arguments.length;t<n;t++)a+=arguments[t].length;for(var e=Array(a),r=0,t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)e[r]=o[i];return e},param=function(a){var t=new URLSearchParams(window.location.search);return t.has(a)?t.get(a):"not found"};$("#title").html('<a href="index.html">Cities</a> › <a href="index.html">'+param("city_id")+'</a> ›  <a href="days.html?route_id='+param("route_id")+"&city_id="+param("city_id")+'">R#'+param("route_id")+"</a> › "+param("day"));var rand=function(a,t){return Math.floor(Math.random()*(t-a+1)+a)},rand_street=function(){return["Elm St","Alcala Park","Point Loma Bl","Wilshire Bl","Santa Monica Bl"][Math.floor(5*Math.random())]};function add_lift(){var a=rand(25,3e3)+" "+rand_street();Math.floor(2*Math.random());$("tbody").append("<tr onclick=\"document.location = 'lift.html?lift_id=1&address="+a+'\';"><td><row class="city">\n    <div  id="A">'+a+'</div>\n    <span id="B">12:39PM</span>\n    </row></td></tr>')}for(var i=0;i<20;i++)add_lift();mapkit.init({authorizationCallback:function(a){a("eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjgzQ1dGWjhQNjIifQ.eyJpc3MiOiI1VkdLUDJRVjZIIiwiaWF0IjoxNjE2OTA0NzYzLCJleHAiOjE2MTk1ODMxNjN9.nME9bxXIl3eE1-43BVKu7XmZAyRGfAZGhOOhiIL-mnuyJu2gLq_9vxQQ-Jjly-KUtWAArs0DnHTa9Z4-_F2gYQ")}});var map=new mapkit.Map("map",{colorScheme:"dark"}),CALLOUT_OFFSET=new DOMPoint(-148,-78),landmarkAnnotationCallout={calloutElementForAnnotation:function(a){return calloutForLandmarkAnnotation(a)},calloutAnchorOffsetForAnnotation:function(a,t){return CALLOUT_OFFSET},calloutAppearanceAnimationForAnnotation:function(a){return".4s cubic-bezier(0.4, 0, 0, 1.5) 0s 1 normal scale-and-fadein"}};function calloutForLandmarkAnnotation(a){var t=document.createElement("div");t.className="landmark",t.appendChild(document.createElement("h1")).textContent=a.landmark.title;var n=t.appendChild(document.createElement("section")),e=n.appendChild(document.createElement("p"));e.className="phone",e.textContent=a.landmark.phone;var r=n.appendChild(document.createElement("p"));r.className="homepage";var o=r.appendChild(document.createElement("a"));return o.href=a.landmark.url,o.textContent="more info",t}$.getJSON("http://35.227.154.149:8000/trucks/online_only/",function(a){for(var t,n,e,r,o=Object.keys(a)[Math.floor(Math.random()*Object.keys(a).length)],i=a[o],l=new mapkit.Style({lineWidth:2,lineJoin:"round",strokeColor:"#FFF"}),d=i.shift(),m=(i[i.length-2],i[i.length-1],i.length),c=__spreadArrays(Array(50)).map(function(a){return Math.random()*m|0}),h=[],p=[],u=0;u<m-1;u+=2){var s=i[u],f=i[u+1];c.includes(u)&&h.push((t=s,n=f,r=void 0,e={coordinate:new mapkit.Coordinate(t,n),title:o,phone:"Bin was lifted at "+d,url:"/lift.html?lift_id="},(r=new mapkit.MarkerAnnotation(e.coordinate,{callout:landmarkAnnotationCallout,color:["#03DAC6","#19B5FE","#BDC3C7"][Math.floor(3*Math.random())]})).landmark=e,r.glyphText="🗑️",r)),p.push(new mapkit.Coordinate(s,f))}var k=new mapkit.PolylineOverlay(p,{style:l});map.showItems(h),map.addOverlays([k]),map.showItems([k])});