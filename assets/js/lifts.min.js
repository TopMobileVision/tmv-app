var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,a=0,n=arguments.length;a<n;a++)t+=arguments[a].length;for(var e=Array(t),r=0,a=0;a<n;a++)for(var o=arguments[a],i=0,l=o.length;i<l;i++,r++)e[r]=o[i];return e},param=function(t){var a=new URLSearchParams(window.location.search);return a.has(t)?a.get(t):"not found"},route_id=param("route_id"),city_id=param("city_id"),day=param("day");$("#title").html('<a href="index.html">Cities</a> › <a href="index.html">'+city_id+'</a> ›  <a href="days.html?route_id='+route_id+"&city_id="+city_id+'">R#'+route_id+"</a> › "+day);var rand=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)},rand_street=function(){return["Elm St","Alcala Park","Point Loma Bl","Wilshire Bl","Santa Monica Bl"][Math.floor(5*Math.random())]};function add_lift(){var t=rand(25,3e3)+" "+rand_street();Math.floor(2*Math.random());$("tbody").append("<tr onclick=\"document.location = 'lift.html?lift_id=1&route_id="+route_id+"&address="+t+"&city_id="+city_id+'\';"><td><row class="city">\n    <div  id="A">'+t+'</div>\n    <span id="B">12:39PM</span>\n    </row></td></tr>')}for(var i=0;i<20;i++)add_lift();mapkit.init({authorizationCallback:function(t){t("eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IllVNEE2Mk02N0YifQ.eyJpc3MiOiI1VkdLUDJRVjZIIiwiaWF0IjoxNjIwMTA3Njc4LCJleHAiOjE2MjM3MTUyMDB9.evUExBAjsE2UfPn7y697fCsMlntcpexMATG55fi29-pktwUqn8sn21l_i6SdVcs4KmhyO4JDbnIF_sFbbAzn_w")}});var map=new mapkit.Map("map",{colorScheme:"light"}),CALLOUT_OFFSET=new DOMPoint(-148,-78),landmarkAnnotationCallout={calloutElementForAnnotation:function(t){return calloutForLandmarkAnnotation(t)},calloutAnchorOffsetForAnnotation:function(t,a){return CALLOUT_OFFSET},calloutAppearanceAnimationForAnnotation:function(t){return".4s cubic-bezier(0.4, 0, 0, 1.5) 0s 1 normal scale-and-fadein"}};function calloutForLandmarkAnnotation(t){var a=document.createElement("div");a.className="landmark",a.appendChild(document.createElement("h1")).textContent=t.landmark.title;var n=a.appendChild(document.createElement("section")),e=n.appendChild(document.createElement("p"));e.className="phone",e.textContent=t.landmark.phone;var r=n.appendChild(document.createElement("p"));r.className="homepage";var o=r.appendChild(document.createElement("a"));return o.href=t.landmark.url,o.textContent="more info",a}var annotation=function(t,a){var n={coordinate:new mapkit.Coordinate(t,a),title:"124ERS",phone:"Bin was lifted on "+param("day"),url:"/lift.html?lift_id="},e=new mapkit.MarkerAnnotation(n.coordinate,{callout:landmarkAnnotationCallout,color:["#03DAC6","#19B5FE","#BDC3C7"][Math.floor(3*Math.random())]});return e.landmark=n,e.glyphText="🗑️",e},rando=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};$.getJSON("assets/data/map.geojson",function(t){for(var a=new mapkit.Style({lineWidth:2,lineJoin:"round",strokeColor:"#000"}),n=t.geometry.coordinates,e=n.map(function(t){return new mapkit.Coordinate(t[1],t[0])}),r=__spreadArrays(Array(50)).map(function(t){return rando(20,100)}),o=[],i=0;i<n.length;i++)r.includes(i)&&o.push(annotation(n[i][1],n[i][0]));var l=new mapkit.PolylineOverlay(e,{style:a});map.showItems(o),map.addOverlays([l]),map.showItems([l])});