var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,n=0,a=arguments.length;n<a;n++)t+=arguments[n].length;for(var e=Array(t),r=0,n=0;n<a;n++)for(var o=arguments[n],i=0,l=o.length;i<l;i++,r++)e[r]=o[i];return e},param=function(t){var n=new URLSearchParams(window.location.search);return n.has(t)?n.get(t):"not found"};$("#title").text("Route #"+param("route_id")+": "+param("day"));var rand=function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},rand_street=function(){return["Elm St","Alcala Park","Point Loma Bl","Wilshire Bl","Santa Monica Bl"][Math.floor(5*Math.random())]};function add_lift(){Math.floor(2*Math.random());$("tbody").append('<tr onclick="document.location = \'lift.html?lift_id=1\';"><td><row class="city">\n    <div  id="A">'+rand(25,3e3)+" "+rand_street()+'</div>\n    <span id="B">12:39PM</span>\n    </row></td></tr>')}for(var i=0;i<20;i++)add_lift();mapkit.init({authorizationCallback:function(t){t("eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjgzQ1dGWjhQNjIifQ.eyJpc3MiOiI1VkdLUDJRVjZIIiwiaWF0IjoxNjE2OTA0NzYzLCJleHAiOjE2MTk1ODMxNjN9.nME9bxXIl3eE1-43BVKu7XmZAyRGfAZGhOOhiIL-mnuyJu2gLq_9vxQQ-Jjly-KUtWAArs0DnHTa9Z4-_F2gYQ")}});var map=new mapkit.Map("map",{colorScheme:"dark"}),CALLOUT_OFFSET=new DOMPoint(-148,-78),landmarkAnnotationCallout={calloutElementForAnnotation:function(t){return calloutForLandmarkAnnotation(t)},calloutAnchorOffsetForAnnotation:function(t,n){return CALLOUT_OFFSET},calloutAppearanceAnimationForAnnotation:function(t){return".4s cubic-bezier(0.4, 0, 0, 1.5) 0s 1 normal scale-and-fadein"}};function calloutForLandmarkAnnotation(t){var n=document.createElement("div");n.className="landmark",n.appendChild(document.createElement("h1")).textContent=t.landmark.title;var a=n.appendChild(document.createElement("section")),e=a.appendChild(document.createElement("p"));e.className="phone",e.textContent=t.landmark.phone;var r=a.appendChild(document.createElement("p"));r.className="homepage";var o=r.appendChild(document.createElement("a"));return o.href=t.landmark.url,o.textContent="more info",n}$.getJSON("http://35.227.154.149:8000/trucks/online_only/",function(t){for(var n,a,e,r,o=Object.keys(t)[Math.floor(Math.random()*Object.keys(t).length)],i=t[o],l=new mapkit.Style({lineWidth:2,lineJoin:"round",strokeColor:"#FFF"}),d=i.shift(),c=(i[i.length-2],i[i.length-1],i.length),m=__spreadArrays(Array(50)).map(function(t){return Math.random()*c|0}),h=[],u=[],p=0;p<c-1;p+=2){var s=i[p],f=i[p+1];m.includes(p)&&h.push((n=s,a=f,r=void 0,e={coordinate:new mapkit.Coordinate(n,a),title:o,phone:"Bin was lifted at "+d,url:"/lift.html?lift_id="},(r=new mapkit.MarkerAnnotation(e.coordinate,{callout:landmarkAnnotationCallout,color:["#03DAC6","#19B5FE","#BDC3C7"][Math.floor(3*Math.random())]})).landmark=e,r.glyphText="🗑️",r)),u.push(new mapkit.Coordinate(s,f))}var k=new mapkit.PolylineOverlay(u,{style:l});map.showItems(h),map.addOverlays([k]),map.showItems([k])});