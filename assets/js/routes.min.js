var __spreadArrays=this&&this.__spreadArrays||function(){for(var n=0,t=0,a=arguments.length;t<a;t++)n+=arguments[t].length;for(var e=Array(n),r=0,t=0;t<a;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)e[r]=o[i];return e};mapkit.init({authorizationCallback:function(n){n("eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjgzQ1dGWjhQNjIifQ.eyJpc3MiOiI1VkdLUDJRVjZIIiwiaWF0IjoxNjE2OTA0NzYzLCJleHAiOjE2MTk1ODMxNjN9.nME9bxXIl3eE1-43BVKu7XmZAyRGfAZGhOOhiIL-mnuyJu2gLq_9vxQQ-Jjly-KUtWAArs0DnHTa9Z4-_F2gYQ")}});var CALLOUT_OFFSET=new DOMPoint(-148,-78),landmarkAnnotationCallout={calloutElementForAnnotation:function(n){return calloutForLandmarkAnnotation(n)},calloutAnchorOffsetForAnnotation:function(n,t){return CALLOUT_OFFSET},calloutAppearanceAnimationForAnnotation:function(n){return".4s cubic-bezier(0.4, 0, 0, 1.5) 0s 1 normal scale-and-fadein"}};function calloutForLandmarkAnnotation(n){var t=document.createElement("div");t.className="landmark",t.appendChild(document.createElement("h1")).textContent=n.landmark.title;var a=t.appendChild(document.createElement("section")),e=a.appendChild(document.createElement("p"));e.className="phone",e.textContent=n.landmark.phone;var r=a.appendChild(document.createElement("p"));r.className="homepage";var o=r.appendChild(document.createElement("a"));return o.href=n.landmark.url,o.textContent="more info",t}for(var map=new mapkit.Map("map"),rand=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},rand_city=function(){return["San Diego","La Mesa","La Jolla","El Cajon","San Marcos"][Math.floor(5*Math.random())]},generate_route=function(n,t,a,e){var r=(a/t*100).toFixed(0);return"<tr onclick=\"document.location = 'route.html?route_id="+n+"';\" "+("100"==r?'class="complete"':"")+'><td><mygrid>\n    <div  id="A">#'+n+'</div>\n    <span id="B">'+r+'%</span>\n    <div  id="C">'+rand_city()+'</div>\n    <span id="D">Mar '+e+"</span>\n    </mygrid></td></tr>"},days=__spreadArrays(Array(10)).map(function(n){return 32*Math.random()|0}).sort(function(n,t){return n-t}).reverse(),_i=0,days_1=days;_i<days_1.length;_i++){var day=days_1[_i],id=rand(1e3,9999),num1=rand(0,500),num2=rand(num1/2,num1);$("tbody").append(generate_route(""+id,num1,num2,day))}$("tbody").append(generate_route("0550",350,350,1)),$.getJSON("http://35.227.154.149:8000/trucks/online_only/",function(n){var c=[],t=Object.entries(n).map(function(n){var t=n[0],a=n[1],e=new mapkit.Style({lineWidth:2,lineJoin:"round",strokeColor:"#"+(16777215*Math.random()<<0).toString(16).padStart(6,"0")}),r=a.shift(),o=a[a.length-2],i=a[a.length-1],l={coordinate:new mapkit.Coordinate(o,i),title:t,phone:"Last update at "+r,url:"/lift.html?lift_id="},d=new mapkit.MarkerAnnotation(l.coordinate,{callout:landmarkAnnotationCallout,color:e.strokeColor});d.landmark=l,d.glyphText="ðŸš›",c.push(d);for(var m=[],u=0;u<a.length-1;u+=2)m.push(new mapkit.Coordinate(a[u],a[u+1]));return new mapkit.PolylineOverlay(m,{style:e})});map.addOverlays(t),map.showItems(c),map.showItems(t)});